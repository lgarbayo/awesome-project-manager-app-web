<form [formGroup]="form" (ngSubmit)="save()">
  <fieldset>
    <legend>Milestone title</legend>
    <input formControlName="title" />
  </fieldset>

  <fieldset>
    <legend>Description</legend>
    <textarea rows="2" formControlName="description"></textarea>
  </fieldset>

  <fieldset formGroupName="date">
    <legend>Target date</legend>
    <div class="fieldset-grid">
      <div class="field-group">
        <label>Year</label>
        <input type="number" formControlName="year" />
      </div>
      <div class="field-group">
        <label>Month</label>
        <select formControlName="month">
          @for (month of core.monthNames; track month; let idx = $index) {
            <option [ngValue]="idx">{{ month }}</option>
          }
        </select>
      </div>
      <div class="field-group">
        <label>Week</label>
        <select formControlName="week">
          <option [ngValue]="0">Week 1</option>
          <option [ngValue]="1">Week 2</option>
          <option [ngValue]="2">Week 3</option>
          <option [ngValue]="3">Week 4</option>
        </select>
      </div>
    </div>
  </fieldset>

  <div class="form-actions">
    <button class="btn primary" type="submit">
      {{ isEditing() ? 'Update milestone' : 'Save milestone' }}
    </button>
    @if (isEditing()) {
      <button class="btn ghost" type="button" (click)="cancelEdit()">Cancel</button>
    }
  </div>
</form>
